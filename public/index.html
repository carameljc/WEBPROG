<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    
    <title>GPdI Bethlehem</title>
    
    <link rel="icon" type="image/png" href="/Foto/logo/logo_biasa.png"> 
    
    <link rel="stylesheet" href="/css/style.css">

    <style>
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white; /* Warna latar belakang */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.8s ease-out, visibility 0.8s;
        }
        #splash-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }
        #splash-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover; /* Memastikan video menutupi layar tanpa distorsi */
        }
    </style>
</head>
<body>
    <div id="splash-screen">
        <video id="splash-video" src="/Foto/logo/animasi_logo.mp4" autoplay muted playsinline></video>
    </div>

    <header>
        <nav>
            <div class="nav-brand">
                <a href="index.html">
                    <img src="/Foto/logo/logo_putih.png" alt="Logo Gereja" class="nav-logo">
                </a>
            </div>
            <div class="nav-links">
                <a href="/tentang.html" class="public-only">Tentang Kami</a>
                <a href="/jadwal.html" class="public-only">Jadwal Ibadah</a>
                <a href="/galeri.html" class="public-only">Galeri</a>
                <a href="/persembahan.html" class="public-only">Persembahan</a>
                <a href="/kontak.html" class="public-only">Kontak</a>
                <a href="/eventAdmin.html" class="admin-only">Manajemen Event</a>
                <a href="/jemaat.html" class="admin-only">Manajemen Jemaat</a>
                <a href="/galleryAdmin.html" class="admin-only">Manajemen Galeri</a>
                <a href="/event.html" class="jemaat-only">Event</a>
                <a href="/kritik.html" class="auth-only">Kritik & Saran</a>
                <a href="/profil.html" class="jemaat-only">Profil Saya</a>
            </div>
            <div class="nav-user">
                <a href="/login.html" id="login-link" class="nav-button">Login</a>
                <a href="/register.html" id="register-link">Daftar</a>
                <div id="user-info">
                    <button id="logout-btn">Logout</button>
                </div>
            </div>
        </nav>
    </header>

    <main class="container">
        <div id="public-content">
            <h2>Selamat Datang</h2>
            <p>Silakan login atau daftar untuk melanjutkan.</p>
        </div>
        <div id="admin-content" class="admin-only">
            <h2>Panel Administratif</h2>
            <p>Selamat datang, Admin. Pilih menu di atas untuk mengelola data.</p>
        </div>
        <div id="jemaat-content" class="jemaat-only">
            <h2>Selamat Datang, <span id="welcome-user-name">Jemaat</span></h2>
            <p>Ini adalah halaman utama untuk Anda.</p>
        </div>
        <hr style="margin: 2rem 0;">
        <section id="galeri-section">
            <h3>Galeri Acara Terbaru</h3>
            <div id="gallery-container" class="gallery-grid"></div>
        </section>
    </main>
    
    <script src="/js/main.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const splashScreen = document.getElementById('splash-screen');
            const splashVideo = document.getElementById('splash-video');
            let splashHasBeenHidden = false;

            splashVideo.playbackRate = 1.7; // Angka 2.0 berarti 2x lebih cepat

            function hideSplashScreen() {
                if (splashHasBeenHidden) return; // Mencegah fungsi berjalan dua kali
                splashHasBeenHidden = true;
                splashScreen.classList.add('hidden');
            }

            // Sembunyikan splash screen saat video selesai
            splashVideo.addEventListener('ended', hideSplashScreen);
            
            // Sembunyikan juga jika video gagal dimuat
            splashVideo.addEventListener('error', hideSplashScreen);

            // Pengaman: Jika video macet, tetap sembunyikan setelah 4 detik
            setTimeout(hideSplashScreen, 6000);
        });
    </script>
</body>
</html>